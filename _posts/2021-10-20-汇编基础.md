---
layout:    post
title:     汇编-基础知识
subtitle:  学习学习
date:      2021-10-20
author:    lll-yz
header-img: img/post-bg-coffee.jpg
catalog:    true
tags:

   - 汇编
---

## 引言

汇编语言是直接在硬件之上工作的汇编语言，首先要了解硬件系统的结构，才能有效的应用汇编语言对其编程。

汇编语言，是除了机器语言外的最底层的编程语言了。学习这门语言，可以帮助我们更加深入地理解CPU、内存等硬件的工作原理。用机器的思维去操作计算机。汇编语言和机器语言是一一对应的，汇编语言被编译成机器语言，这样的程序执行效率更高。

## 基础知识

### 1.1机器语言

0和1构成。

### 1.2汇编语言的产生

机器指令：``1000100111011000``

操作：寄存器 BX 的内容送到 AX 中。

汇编指令：``MOV AX,BX``

#### 1.2.1寄存器简介

**寄存器：**简单的讲是CPU中可以存储数据的器件，一个CPU中有多个寄存器。

AX 是其中一个寄存器的代号，BX 是另一个寄存器的代号。

[![5BlKoD.png](https://z3.ax1x.com/2021/10/20/5BlKoD.png)](https://imgtu.com/i/5BlKoD)

### 1.3汇编语言的组成

汇编语言由以下3类组成：

+ 汇编指令 (机器码的助记符)

+ 伪指令 (由编译器执行)

+ 其它符号 (由编译器识别)

汇编语言的核心是汇编指令，它决定了汇编语言的特性。

### 1.4存储器

CPU是计算机的核心部件，它控制整个计算机的运作并进行运算，想要让一个CPU工作，就必须向它提供指令和数据。

指令和数据在存储器中存放，也就是平时所说的内存。

在一台PC机中内存的作用仅次于CPU。

离开了内存，性能再好的CPU也无法工作。

磁盘不同于内存，磁盘上的数据或程序，如果不读到内存中，就无法被CPU使用。

### 1.5指令和数据

指令和数据是应用上的概念。

在内存或磁盘上，指令和数据没有任何区别，都是二进制信息。

二进制信息：

+ 1000100111011000

  --->89D8H (数据)

+ 1000100111011000

  --->MOV AX,BX (程序)

### 1.6存储单元

存储器被划分为若干个存储单元，每个存储单元从0开始顺序编号。

例如：一个存储器有128个存储单元，编号从0~127。

​                           [![5D09sO.png](https://z3.ax1x.com/2021/10/20/5D09sO.png)](https://imgtu.com/i/5D09sO)

对于大容量的存储器一般还用以下单位来计量容量 ：

+ 1KB = 1024Byte
+ 1MB = 1024KB
+ 1GB = 1024MB
+ 1TB = 1024GB

磁盘的容量单位同内存的一样，实际上以上单位是微机中常用的计量单位。

### 1.7CPU对存储器的读写

CPU想要进行数据的读取，必须和外部器件(标准的说法是芯片)进行三类信息的交互：

+ 存储单元的地址 (地址信息)
+ 器件的选择，读或写命令 (控制信息)
+ 读或写的数据 (数据信息)

**问：**那么CPU是通过什么将地址、数据和控制信息传到存储芯片中的呢？

**答：**电子计算机能处理、传输的信息都是电信号，电信号当然要用导线传送。

在计算机中专门有连接CPU和其他芯片的导线，通常称为总线。

+ 物理上：一根根导线的集合；
+ 逻辑上分为：
  + 地址总线
  + 数据总线
  + 控制总线

总线在逻辑上划分图：

[![5DrtSI.png](https://z3.ax1x.com/2021/10/20/5DrtSI.png)](https://imgtu.com/i/5DrtSI)

### 1.8地址总线

CPU是通过地址总线来指定存储单元的。

地址总线上能传送多少个不同的信息，CPU就可以对多少个存储单元进行寻址。

一个CPU有N根地址总线，则可以说这个CPU的地址总线的宽度为N。

这样的CPU最多可以寻找2的N次方个内存单元。(1 Byte = 8 bit)

CPU与内存或其它器件之间的数据传送是通过数据总线来进行的。

数据总线的宽度决定了CPU和外界的数据传送速度。

### 1.9数据总线

我们来分别看一下它们向内存中写入数据89D8H时，是如何通过数据总线传送数据的：

+ 8088CPU：

[![5DRsbt.png](https://z3.ax1x.com/2021/10/20/5DRsbt.png)](https://imgtu.com/i/5DRsbt)

+ 8086CPU：

[![5DRLPU.png](https://z3.ax1x.com/2021/10/20/5DRLPU.png)](https://imgtu.com/i/5DRLPU)

### 1.10控制总线

CPU对外部器件的控制是通过控制总线来进行的。在这里控制总线是个总称，控制总线是一些不同控制线的集合。

有多少根控制总线，就意味着CPU提供了对外部器件的多少种控制。所以，控制总线的宽度决定了CPU对外部器件的控制能力。

### 1.11内存地址空间 (概述)

什么是内存地址空间呢？

一个CPU的地址线宽度为10，那么可以寻址1024个内存单元，这1024个可寻到的内存单元就构成这个CPU的内存地址空间。

### 1.12主板

在每一台PC机中，都有一个主板，主板上有核心器件和一些主要器件。

这些器件通过总线(地址总线、数据总线、控制总线)相连。

### 1.13接口卡

计算机系统中，所有可用程序控制其工作的设备，必须受到CPU的控制。

CPU对外部设备不能直接控制，如显示器、音箱、打印机等。直接控制这些设备进行工作的是插在扩展插槽上的接口卡。

### 1.14各类存储器芯片

从读写属性上看分为两类：

随机存储器 (RAM) 和 只读存储器 (ROM)

从功能和连接上分类：

+ 随机存储器 RAM

+ 装有 BIOS 的 ROM

  BIOS：Basic Input/Output System，基本输入输出系统。

  BIOS 是由主板和各类接口卡 (如：显卡、网卡等) 厂商提供的软件系统，可以通过它利用该硬件设备进行最基本的输入输出。在主板和某些接口卡上插有存储相应 BIOS 的 ROM。

+ 接口卡上的 RAM

PC机中各类存储器的逻辑连接情况：

[![5rCn3D.png](https://z3.ax1x.com/2021/10/20/5rCn3D.png)](https://imgtu.com/i/5rCn3D)

### 1.15内存地址空间

上述那些存储器在物理上是独立的器件。

但是它们在以下两点上相同：

1、都和CPU的总线相连。

2、CPU对他们进行读或写的时候都通过控制线发出内存读写命令。

将各类存储器看作一个逻辑存储器：

+ 所有的物理存储器被看作一个由若干存储单元组成的逻辑存储器；
+ 每个物理存储器在这个逻辑存储器中占有一个地址段，即一段地址空间；
+ CPU在这段地址空间中读写数据，实际上就是在相对应的物理存储器中读写数据。

[![5rovP1.png](https://z3.ax1x.com/2021/10/21/5rovP1.png)](https://imgtu.com/i/5rovP1)

不同的计算机系统的内存地址空间分配情况是不同的。

[![5rT6Rx.png](https://z3.ax1x.com/2021/10/21/5rT6Rx.png)](https://imgtu.com/i/5rT6Rx)

内存地址空间：

**最终运行程序的是CPU，我们用汇编编程的时候，必须要从CPU角度考虑问题。**

对CPU来讲，系统中的所有存储器中的存储单元都处于一个统一的逻辑存储器中，它的容量受CPU寻址能力的限制。这个逻辑存储器即是我们所说的内存地址空间。

## 小结

1、汇编指令是机器指令的助记符，同机器指令 一 一对应。

2、每一种CPU都有自己的汇编指令集。

3、CPU可以直接使用的信息在存储器中存放。

4、在存储器中指令和数据没有任何区别，都是二进制信息。

5、存储单元从零开始顺序编号。

6、**一个存储单元可以存储8个bit(用作单位写成"b")，即8位二进制数。**

7、1Byte = 8 bit	1KB = 1024Byte	1MB = 1024KB	1GB = 1024MB	1TB = 1024GB

8、每个CPU芯片都有许多管脚，这些管脚和总线相连。也可以说，这些管脚引出总线。一个CPU可以引出三种总线的宽度标志了这个CPU的不同方面的性能：

+ 地址总线的宽度决定了CPU的寻址能力。
+ 数据总线的宽度决定了CPU与其它器件进行数据传送时的一次数据传送量。
+ 控制总线宽度决定了CPU对系统中其它器件的控制能力。

数据存储是以“字节”（Byte）为单位，数据传输是以“位”（bit）为单位，一个位就代表一个0或1（即二进制），每8个位（bit）组成一个字节（Byte）。8bit=1Byte
内存也是数据存储器的一种，所以内存里的空间也是以字节为单位的。

## 检测

1、1个CPU的寻址能力为8KB,那么它的地址总线的宽度为（13）

2、1KB的存储器有(1024)个存储单元，存储单元的编号从（0）到（1023）.

3、1KB的存储器可以存储（8192)个bit,（1024）个字节

4、1GB、1MB、1KB分别是（1,073,741,824、1,048,576、1024）Byte.

5、8080、8088、80286、80386的地址总线宽度分别为16根、20根、24根、32根，则它们的寻址能为分别为（64KB、1MB、16MB、4GB）

6、8080、8088、8086、80286、80386的数据总线宽度分别为8根、8根、16根、16根、32根，则它们的一次可以传送的数据为（1B）、（1B）、（2B）、（2B）、（4B）

7、从内存中读取1024字节的数据，8086至少要读（512）次，80386至少要读（256）次。

8、在存储器中，数据和程序以（二进制）形式存放。





课后题：

https://fishc.com.cn/forum.php?mod=forumdisplay&fid=39&filter=typeid&typeid=379